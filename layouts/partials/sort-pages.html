{{- $pagesOriginal := . -}}
{{- $pagesOriginal = $pagesOriginal.ByLastmod -}}
{{- $len := len $pagesOriginal -}}
{{- $pagesAscending := slice -}}
{{- $pagesTemp := slice -}}

{{- $pagesTemp = $pagesTemp | append (index $pagesOriginal 0) -}}
{{- range seq 0 (sub $len 2) -}}
  {{- if ne (index $pagesOriginal (add . 1)).Lastmod (index $pagesOriginal .).Lastmod -}}
    {{- $pagesTemp = sort $pagesTemp "Date" "asc" -}}
    {{- $pagesAscending = $pagesAscending | append $pagesTemp -}}
    {{- $pagesTemp = slice -}}
  {{- end -}}
  {{- $pagesTemp = $pagesTemp | append (index $pagesOriginal (add . 1)) -}}
{{- end -}}

{{- if gt (len $pagesTemp) 0 -}}
  {{- $pagesTemp = sort $pagesTemp "Date" "asc" -}}
  {{- $pagesAscending = $pagesAscending | append $pagesTemp -}}
{{- end -}}

{{- $pagesDescending := $pagesAscending.Reverse -}}
{{- return $pagesDescending -}}
